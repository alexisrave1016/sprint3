aax_xsp_render_ad({"aaxMeasurementTrackers":{"contains3P":"false","html":""},"impPixelURL":"https://aax-us-east.amazon-adsystem.com/e/xsp/imp?b=QkIqpbeQe3l8IEefKdFhfSwAAAF8IDOedAEAAAH0Ac_2Bug","adId":200055857757441,"instrPixelURL":"https://aax-us-east.amazon-adsystem.com/x/px/QkIqpbeQe3l8IEefKdFhfSwAAAF8IDOedAEAAAH0Ac_2Bug/","mediaType":"D","creative":"<div cel_widget_id='sp_detail_endcap_shared' class='celwidget'> <script> (function(f,h,Q,E){function F(a){u&&u.tag&&u.tag(q(\":\",\"aui\",a))}function v(a,b){u&&u.count&&u.count(\"aui:\"+a,0===b?0:b||(u.count(\"aui:\"+a)||0)+1)}function m(a){try{return a.test(navigator.userAgent)}catch(b){return!1}}function x(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent(\"on\"+b,c)}function q(a,b,c,e){b=b&&c?b+a+c:b||c;return e?q(a,b,e):b}function G(a,b,c){try{Object.defineProperty(a,b,{value:c,writable:!1})}catch(e){a[b]=c}return c}function ta(a,b){var c=a.length, e=c,g=function(){e--||(R.push(b),S||(setTimeout(ca,0),S=!0))};for(g();c--;)da[a[c]]?g():(z[a[c]]=z[a[c]]||[]).push(g)}function ua(a,b,c,e,g){var d=h.createElement(a?\"script\":\"link\");x(d,\"error\",e);g&&x(d,\"load\",g);a?(d.type=\"text/javascript\",d.async=!0,c&&/AUIClients|images[/]I/.test(b)&&d.setAttribute(\"crossorigin\",\"anonymous\"),d.src=b):(d.rel=\"stylesheet\",d.href=b);h.getElementsByTagName(\"head\")[0].appendChild(d)}function ea(a,b){return function(c,e){function g(){ua(b,c,d,function(b){T?v(\"resource_unload\"): d?(d=!1,v(\"resource_retry\"),g()):(v(\"resource_error\"),a.log(\"Asset failed to load: \"+c));b&&b.stopPropagation?b.stopPropagation():f.event&&(f.event.cancelBubble=!0)},e)}if(fa[c])return!1;fa[c]=!0;v(\"resource_count\");var d=!0;return!g()}}function va(a,b,c){for(var e={name:a,guard:function(c){return b.guardFatal(a,c)},guardTime:function(a){return b.guardTime(a)},logError:function(c,d,e){b.logError(c,d,e,a)}},g=[],d=0;d<c.length;d++)H.hasOwnProperty(c[d])&&(g[d]=U.hasOwnProperty(c[d])?U[c[d]](H[c[d]], e):H[c[d]]);return g}function A(a,b,c,e,g){return function(d,h){function n(){var a=null;e?a=h:\"function\"===typeof h&&(p.start=w(),a=h.apply(f,va(d,k,l)),p.end=w());if(b){H[d]=a;a=d;for(da[a]=!0;(z[a]||[]).length;)z[a].shift()();delete z[a]}p.done=!0}var k=g||this;\"function\"===typeof d&&(h=d,d=E);b&&(d=d?d.replace(ha,\"\"):\"__NONAME__\",V.hasOwnProperty(d)&&k.error(q(\", reregistered by \",q(\" by \",d+\" already registered\",V[d]),k.attribution),d),V[d]=k.attribution);for(var l=[],m=0;m<a.length;m++)l[m]= a[m].replace(ha,\"\");var p=B[d||\"anon\"+ ++wa]={depend:l,registered:w(),namespace:k.namespace};c?n():ta(l,k.guardFatal(d,n));return{decorate:function(a){U[d]=k.guardFatal(d,a)}}}}function ia(a){return function(){var b=Array.prototype.slice.call(arguments);return{execute:A(b,!1,a,!1,this),register:A(b,!0,a,!1,this)}}}function W(a,b){return function(c,e){e||(e=c,c=E);var g=this.attribution;return function(){t.push(b||{attribution:g,name:c,logLevel:a});var d=e.apply(this,arguments);t.pop();return d}}} function I(a,b){this.load={js:ea(this,!0),css:ea(this)};G(this,\"namespace\",b);G(this,\"attribution\",a)}function ja(){h.body?r.trigger(\"a-bodyBegin\"):setTimeout(ja,20)}function C(a,b){a.className=X(a,b)+\" \"+b}function X(a,b){return(\" \"+a.className+\" \").split(\" \"+b+\" \").join(\" \").replace(/^ | $/g,\"\")}function ka(a){try{return a()}catch(b){return!1}}function J(){if(K){var a={w:f.innerWidth||n.clientWidth,h:f.innerHeight||n.clientHeight};5<Math.abs(a.w-Y.w)||50<a.h-Y.h?(Y=a,L=4,(a=k.mobile||k.tablet?450< a.w&&a.w>a.h:1250<=a.w)?C(n,\"a-ws\"):n.className=X(n,\"a-ws\")):0<L&&(L--,la=setTimeout(J,16))}}function xa(a){(K=a===E?!K:!!a)&&J()}function ya(){return K}function ma(){D.forEach(function(a){F(a)})}function na(a,b,c){if(b){a=m(/Chrome/i)&&!m(/Edge/i)&&!m(/OPR/i)&&!a.capabilities.isAmazonApp&&!m(new RegExp(Z+\"bwv\"+Z+\"b\"));var e=\"sw:browser:\"+c+\":\";b.browser&&a&&(D.push(e+\"supported\"),b.browser.action(e,c));!a&&b.browser&&D.push(e+\"unsupported\")}}\"use strict\";var M=Q.now=Q.now||function(){return+new Q}, w=function(a){return a&&a.now?a.now.bind(a):M}(f.performance),N=w(),p=f.AmazonUIPageJS||f.P;if(p&&p.when&&p.register){N=[];for(var l=h.currentScript;l;l=l.parentElement)l.id&&N.push(l.id);return p.log(\"A copy of P has already been loaded on this page.\",\"FATAL\",N.join(\" \"))}var u=f.ue;F();F(\"aui_build_date:3.21.5-2021-08-17\");var R=[],S=!1;var ca=function(){for(var a=setTimeout(ca,0),b=M();R.length;)if(R.shift()(),50<M()-b)return;clearTimeout(a);S=!1};var da={},z={},fa={},T=!1;x(f,\"beforeunload\",function(){T= !0;setTimeout(function(){T=!1},1E4)});var ha=/^prv:/,V={},H={},U={},B={},wa=0,Z=String.fromCharCode(92),t=[],oa=f.onerror;f.onerror=function(a,b,c,e,g){g&&\"object\"===typeof g||(g=Error(a,b,c),g.columnNumber=e,g.stack=b||c||e?q(Z,g.message,\"at \"+q(\":\",b,c,e)):E);var d=t.pop()||{};g.attribution=q(\":\",g.attribution||d.attribution,d.name);g.logLevel=d.logLevel;g.attribution&&console&&console.log&&console.log([g.logLevel||\"ERROR\",a,\"thrown by\",g.attribution].join(\" \"));t=[];oa&&(d=[].slice.call(arguments), d[4]=g,oa.apply(f,d))};I.prototype={logError:function(a,b,c,e){b={message:b,logLevel:c||\"ERROR\",attribution:q(\":\",this.attribution,e)};if(f.ueLogError)return f.ueLogError(a||b,a?b:null),!0;console&&console.error&&(console.log(b),console.error(a));return!1},error:function(a,b,c,e){a=Error(q(\":\",e,a,c));a.attribution=q(\":\",this.attribution,b);throw a;},guardError:W(),guardFatal:W(\"FATAL\"),guardCurrent:function(a){var b=t[t.length-1];return b?W(b.logLevel,b).call(this,a):a},guardTime:function(a){var b= t[t.length-1],c=b&&b.name;return c&&c in B?function(){var b=w(),g=a.apply(this,arguments);B[c].async=(B[c].async||0)+w()-b;return g}:a},log:function(a,b,c){return this.logError(null,a,b,c)},declare:A([],!0,!0,!0),register:A([],!0),execute:A([]),AUI_BUILD_DATE:\"3.21.5-2021-08-17\",when:ia(),now:ia(!0),trigger:function(a,b,c){var e=M();this.declare(a,{data:b,pageElapsedTime:e-(f.aPageStart||NaN),triggerTime:e});c&&c.instrument&&O.when(\"prv:a-logTrigger\").execute(function(b){b(a)})},handleTriggers:function(){this.log(\"handleTriggers deprecated\")}, attributeErrors:function(a){return new I(a)},_namespace:function(a,b){return new I(a,b)}};var r=G(f,\"AmazonUIPageJS\",new I);var O=r._namespace(\"PageJS\",\"AmazonUI\");O.declare(\"prv:p-debug\",B);r.declare(\"p-recorder-events\",[]);r.declare(\"p-recorder-stop\",function(){});G(f,\"P\",r);ja();if(h.addEventListener){var pa;h.addEventListener(\"DOMContentLoaded\",pa=function(){r.trigger(\"a-domready\");h.removeEventListener(\"DOMContentLoaded\",pa,!1)},!1)}var n=h.documentElement,aa=function(){var a=[\"O\",\"ms\",\"Moz\", \"Webkit\"],b=h.createElement(\"div\");return{testGradients:function(){return!0},test:function(c){var e=c.charAt(0).toUpperCase()+c.substr(1);c=(a.join(e+\" \")+e+\" \"+c).split(\" \");for(e=c.length;e--;)if(\"\"===b.style[c[e]])return!0;return!1},testTransform3d:function(){return!0}}}();p=n.className;var qa=/(^| )a-mobile( |$)/.test(p),ra=/(^| )a-tablet( |$)/.test(p),k={audio:function(){return!!h.createElement(\"audio\").canPlayType},video:function(){return!!h.createElement(\"video\").canPlayType},canvas:function(){return!!h.createElement(\"canvas\").getContext}, svg:function(){return!!h.createElementNS&&!!h.createElementNS(\"http://www.w3.org/2000/svg\",\"svg\").createSVGRect},offline:function(){return navigator.hasOwnProperty&&navigator.hasOwnProperty(\"onLine\")&&navigator.onLine},dragDrop:function(){return\"draggable\"in h.createElement(\"span\")},geolocation:function(){return!!navigator.geolocation},history:function(){return!(!f.history||!f.history.pushState)},webworker:function(){return!!f.Worker},autofocus:function(){return\"autofocus\"in h.createElement(\"input\")}, inputPlaceholder:function(){return\"placeholder\"in h.createElement(\"input\")},textareaPlaceholder:function(){return\"placeholder\"in h.createElement(\"textarea\")},localStorage:function(){return\"localStorage\"in f&&null!==f.localStorage},orientation:function(){return\"orientation\"in f},touch:function(){return\"ontouchend\"in h},gradients:function(){return aa.testGradients()},hires:function(){var a=f.devicePixelRatio&&1.5<=f.devicePixelRatio||f.matchMedia&&f.matchMedia(\"(min-resolution:144dpi)\").matches;v(\"hiRes\"+ (qa?\"Mobile\":ra?\"Tablet\":\"Desktop\"),a?1:0);return a},transform3d:function(){return aa.testTransform3d()},touchScrolling:function(){return m(/Windowshop|android|OS ([5-9]|[1-9][0-9]+)(_[0-9]{1,2})+ like Mac OS X|SOFTWARE=([5-9]|[1-9][0-9]+)(.[0-9]{1,2})+.*DEVICE=iPhone|Chrome|Silk|Firefox|Trident.+?; Touch/i)},ios:function(){return m(/OS [1-9][0-9]*(_[0-9]*)+ like Mac OS X/i)&&!m(/trident|Edge/i)},android:function(){return m(/android.([1-9]|[L-Z])/i)&&!m(/trident|Edge/i)},mobile:function(){return qa}, tablet:function(){return ra},rtl:function(){return\"rtl\"===n.dir}};for(l in k)k.hasOwnProperty(l)&&(k[l]=ka(k[l]));for(var ba=\"textShadow textStroke boxShadow borderRadius borderImage opacity transform transition\".split(\" \"),P=0;P<ba.length;P++)k[ba[P]]=ka(function(){return aa.test(ba[P])});var K=!0,la=0,Y={w:0,h:0},L=4;J();x(f,\"resize\",function(){clearTimeout(la);L=4;J()});var sa={getItem:function(a){try{return f.localStorage.getItem(a)}catch(b){}},setItem:function(a,b){try{return f.localStorage.setItem(a, b)}catch(c){}}};n.className=X(n,\"a-no-js\");C(n,\"a-js\");!m(/OS [1-8](_[0-9]*)+ like Mac OS X/i)||f.navigator.standalone||m(/safari/i)||C(n,\"a-ember\");p=[];for(l in k)k.hasOwnProperty(l)&&k[l]&&p.push(\"a-\"+l.replace(/([A-Z])/g,function(a){return\"-\"+a.toLowerCase()}));C(n,p.join(\" \"));n.setAttribute(\"data-aui-build-date\",\"3.21.5-2021-08-17\");r.register(\"p-detect\",function(){return{capabilities:k,localStorage:k.localStorage&&sa,toggleResponsiveGrid:xa,responsiveGridEnabled:ya}});m(/UCBrowser/i)||k.localStorage&& C(n,sa.getItem(\"a-font-class\"));r.declare(\"a-event-revised-handling\",!1);try{var y=navigator.serviceWorker}catch(a){F(\"sw:nav_err\")}y&&(x(y,\"message\",function(a){a&&a.data&&v(a.data.k,a.data.v)}),y.controller&&y.controller.postMessage(\"MSG-RDY\"));var D=[];(function(a){var b=a.reg,c=a.unreg;y&&y.getRegistrations?(O.when(\"A\").execute(function(a){na(a,c,\"unregister\")}),x(f,\"load\",function(){O.when(\"A\").execute(function(a){na(a,b,\"register\");ma()})})):(b&&b.browser&&D.push(\"sw:browser:register:unsupported\"), c&&c.browser&&D.push(\"sw:browser:unregister:unsupported\"),ma())})({reg:{},unreg:{}});r.declare(\"a-fix-event-off\",!1);v(\"pagejs:pkgExecTime\",w()-N)})(window,document,Date);   (window.AmazonUIPageJS ? AmazonUIPageJS : P).load.js('https://images-na.ssl-images-amazon.com/images/I/61XKxrBtDVL._RC|11Y+5x+kkTL.js,51106gSDnJL.js,11-zXBZR6KL.js,11giXtZCwVL.js,01+z+uIeJ-L.js,01VRMV3FBdL.js,01O9dYORveL.js,21NNXfMitSL.js,11rRjDLdAVL.js,51X-X0x2aRL.js,11kWu3cNjYL.js,11g2BPXNlrL.js,11OREnu1epL.js,11KbZymw5ZL.js,21r53SJg7LL.js,0190vxtlzcL.js,51bbIMIQQwL.js,31ask0y-LBL.js,015c-6CIP9L.js,01ezj5Rkz1L.js,11+RxVdhNcL.js,31o2NGTXThL.js,01rpauTep4L.js,01ga2A1fW4L.js_.js?AUIClients/AmazonUI'); </script> <link rel=\"stylesheet\" href=\"https://images-na.ssl-images-amazon.com/images/I/11EIQ5IGqaL._RC|012LjolmrML.css,41gNgxHrutL.css,31DmxClA-JL.css,01Qa5OZMsTL.css,01oWZPSP1rL.css,0131vqwP5UL.css,410iOIpxjqL.css,11TIuySqr6L.css,01ElnPiDxWL.css,11O5pm9UsdL.css,01yvuMfASTL.css,01IdKcBuAdL.css,01y-XAlI+2L.css,01nXTpOI9vL.css,014JGZ0IGpL.css,01oDR3IULNL.css,418snqSUuoL.css,01XPHJk60-L.css,01R0k0yxPXL.css,218P63dsRmL.css,11ZPqEnc4QL.css,21qHKSTSJCL.css,01PbTin2bTL.css,01CFUgsA-YL.css,21d1lrIb-2L.css,11h76nkHU-L.css,11hEnVDjLEL.css,11ph8av1hAL.css,11b-GR26DVL.css,01-fWz3sOQL.css,11ocrgKoE-L.css,21vZBbG8btL.css,117YAo9TFoL.css,01YVY7jPXEL.css,21pRZG0S+bL.css,11MHRMr8ymL.css,01TQysHE-wL.css,11kJ4eos8BL.css,11XEkP4Z3EL.css,01cbS3UK11L.css,21481Yax+2L.css,018tCyzpBDL.css_.css?AUIClients/AmazonUI\" /> <script type=\"text/javascript\"> if ((typeof SFClient != \"undefined\") && SFClient.sendAdInfo) {     var feedbackJson = [                                 {                                \"asin\" : \"B08SBQNB1V\",                                \"title\" : \"Ulanzi MT-33 - Trípode de cámara flexible con tornillo de 1/4\\\" para brazo mágico, trípode de pulpo compatible con iPhone 12 Samsung, Canon, Nikon Sony\",                                                                                                                                                \"price\" : \"US$ 24.95\",                                                                                                    \"merchantName\" : \"ULANZI Official US Store\",                                \"merchantCustomerID\" : \"A209UUQT8O7JCV\",                                \"sku\" : \"2395-US2\",                                \"adId\" : \"A04082811IA36RYGR7UBX\",                                \"campaignId\" : \"A03476593NN1K3V2R1HKX\"                            }                   ];     SFClient.sendAdInfo(feedbackJson); } </script> <style> .sp_short_strip_button {     margin-left: 25px;     margin-top: 30px;     width: 158px;     height: 30px; } .sp_short_strip_adlink {     width: 100%;     height: 100%;     z-index: 150;     position: absolute;     top: 0px;     right: 0px; } .sp_short_strip_img {     width: 154px;     height: 70px;     margin: 10px 20px 10px 20px; } .sp_short_strip_product_info {     width: 326px;     height: 90px;     display: flex;     align-content: center;     flex-wrap: wrap; } .sp_short_strip_price {     font-size: 19px; } .sp_short_strip_prime_icon {     position: relative;     top: 1px;     margin-left: 3px; } .sp_short_strip_price::first-letter {     font-size: 60%;     vertical-align: text-top; } .sp_short_strip_review_ratings {     margin-left: 15px; } .sp_short_strip_title {     overflow: hidden;     font-size: 14px;     line-height: 19px; } .sp_short_strip_reviewCount {     color: #0066C0; } .sp_short_strip_extra {     margin-top: 7px; } .sp_short_strip_reviews {     position: relative;     top: -1px; } .sp_short_strip_box {     top: 0;     left: 0;     bottom: 0;     right: 0;     position: absolute;     z-index: 100;     background-color: #fff;     background: -webkit-linear-gradient(rgba(0, 0, 0, 0.0473), rgba(255, 255, 255, 0.0473));     background: -o-linear-gradient(rgba(0, 0, 0, 0.0473), rgba(255, 255, 255, 0.0473));     background: -moz-linear-gradient(rgba(0, 0, 0, 0.0473), rgba(255, 255, 255, 0.0473));     background: linear-gradient(rgba(0, 0, 0, 0.0473), rgba(255, 255, 255, 0.0473)); } div.a-box.sp_short_strip_box > div {     height: 100%; } </style>     <div id=\"sp_detail_endcap_shared\" class=\"a-box\" style=\"width:728px;height:90px;\"><div class=\"a-box-inner a-padding-none\">         <div id=\"sp_detail_endcap_shared_inner\" class=\"a-box sp_short_strip_box\" style=\"width:728px;height:90px;\"><div class=\"a-box-inner a-padding-none\">             <a class=\"a-link-normal sp_short_strip_adlink a-text-normal\" target=\"_top\" rel=\"noopener\" title=\"Ulanzi MT-33 - Trípode de cámara flexible con tornillo de 1/4&quot; para brazo mágico, trípode de pulpo compatible con iPhone 12 Samsung, Canon, Nikon Sony\" href=\"https://aax-us-east.amazon-adsystem.com/x/c/QkIqpbeQe3l8IEefKdFhfSwAAAF8IDOedAEAAAH0Ac_2Bug/https://www.amazon.com/gp/slredirect/picassoRedirect.html/ref=sspa_dk_bot_detail_aax_0?ie=UTF8&amp;adId=A04082811IA36RYGR7UBX&amp;qualifier=1632627826&amp;id=8506156128614537&amp;widgetName=sp_detail_endcap_shared&amp;url=%2Fdp%2FB08SBQNB1V%2Fref%3Dsspa_dk_bot_detail_aax_0%3Fpsc%3D1\"></a>         </div></div>         <div class=\"a-row\">         <div class=\"a-fixed-right-grid-col sp_short_strip_img\" style=\"float:left;\">             <img alt=\"Ulanzi MT-33 - Trípode de cámara flexible con tornillo de 1/4&quot; para brazo mágico, trípode de pulpo compatible con iPhone 12 Samsung, Canon, Nikon Sony\" src=\"https://m.media-amazon.com/images/I/417SEZXD+KL._AC_SR154,70_.jpg\" class=\"a-dynamic-image\" height=\"70\" width=\"154px\" data-a-dynamic-image=\"{&quot;https://m.media-amazon.com/images/I/417SEZXD+KL._AC_SR462,210_.jpg&quot;:[462,210],&quot;https://m.media-amazon.com/images/I/417SEZXD+KL._AC_SR154,70_.jpg&quot;:[154,70],&quot;https://m.media-amazon.com/images/I/417SEZXD+KL._AC_SR308,140_.jpg&quot;:[308,140]}\"/>         </div>             <div class=\"a-fixed-right-grid-col sp_short_strip_product_info\" style=\"float:left;\">                 <div class=\"a-row\">                     <span id=\"sp_short_strip_title\" class=\"a-color-base sp_short_strip_title\">Ulanzi MT-33 - Trípode de cámara flexible con tornillo de 1/4\" para brazo mágico, trípode de pulpo compatible con iPhone 12 Samsung, Canon, Nikon Sony</span>                 </div>                 <div class=\"a-row sp_short_strip_extra\">                     <span class=\"a-color-base sp_short_strip_price\">US$ 24.95</span>                                                                                                                         <i class=\"a-icon a-icon-prime a-icon-small sp_short_strip_prime_icon\" role=\"presentation\"></i>                                                                                            <a class=\"a-link-normal sp_short_strip_reviews a-text-normal\" target=\"_top\" rel=\"noopener\" title=\"Ulanzi MT-33 - Trípode de cámara flexible con tornillo de 1/4&quot; para brazo mágico, trípode de pulpo compatible con iPhone 12 Samsung, Canon, Nikon Sony\" href=\"https://aax-us-east.amazon-adsystem.com/x/c/QkIqpbeQe3l8IEefKdFhfSwAAAF8IDOedAEAAAH0Ac_2Bug/https://www.amazon.com/gp/slredirect/picassoRedirect.html/ref=sspa_dk_bot_detail_aax_0?ie=UTF8&amp;adId=A04082811IA36RYGR7UBX&amp;qualifier=1632627826&amp;id=8506156128614537&amp;widgetName=sp_detail_endcap_shared&amp;url=%2Fdp%2FB08SBQNB1V%2Fref%3Dsspa_dk_bot_detail_aax_0%3Fpsc%3D1#customerReviews\">                             <i class=\"a-icon a-icon-star a-star-4-5 sp_short_strip_review_ratings\"></i>                             <span class=\"sp_short_strip_reviewCount\">93</span>                         </a>                                      </div>             </div>                 <span class=\"a-button a-button-primary sp_short_strip_button\"><span class=\"a-button-inner\"><a href=\"https://aax-us-east.amazon-adsystem.com/x/c/QkIqpbeQe3l8IEefKdFhfSwAAAF8IDOedAEAAAH0Ac_2Bug/https://www.amazon.com/gp/slredirect/picassoRedirect.html/ref=sspa_dk_bot_detail_aax_0?ie=UTF8&amp;adId=A04082811IA36RYGR7UBX&amp;qualifier=1632627826&amp;id=8506156128614537&amp;widgetName=sp_detail_endcap_shared&amp;url=%2Fdp%2FB08SBQNB1V%2Fref%3Dsspa_dk_bot_detail_aax_0%3Fpsc%3D1\" class=\"a-button-text\" role=\"button\">                     Comprar ahora                 </a></span></span>         </div>     </div></div> <script type=\"text/javascript\">(function(f) {var _np=(window.P._namespace(\"FirebirdSpRendering\"));if(_np.guardFatal){_np.guardFatal(f)(_np);}else{f(_np);}}(function(P) {     P.when('A', 'jQuery', 'ready').execute(function(A, jQuery) {         /*  *  jQuery dotdotdot 1.6.7  *  *  Copyright (c) 2013 Fred Heusschen  *  www.frebsite.nl  *  *  Plugin website:  *  dotdotdot.frebsite.nl  *  *  Dual licensed under the MIT and GPL licenses.  *  http://en.wikipedia.org/wiki/MIT_License  *  http://en.wikipedia.org/wiki/GNU_General_Public_License  *  *  This software is used under the MIT license.  */ (function( $, undef ) {     if ( $.fn.dotdotdot )     {         return;     }     $.fn.dotdotdot = function( o )     {         if ( this.length == 0 )         {             if ( !o || o.debug !== false )             {                 debug( true, 'No element found for \"' + this.selector + '\".' );             }             return this;         }         if ( this.length > 1 )         {             return this.each(                 function()                 {                     $(this).dotdotdot( o );                 }             );         }         var $dot = this;         if ( $dot.data( 'dotdotdot' ) )         {             $dot.trigger( 'destroy.dot' );         }         $dot.data( 'dotdotdot-style', $dot.attr( 'style' ) || '' );         $dot.css( 'word-wrap', 'break-word' );         if ($dot.css( 'white-space' ) === 'nowrap')         {             $dot.css( 'white-space', 'normal' );         }         $dot.bind_events = function()         {             $dot.bind(                 'update.dot',                 function( e, c )                 {                     e.preventDefault();                     e.stopPropagation();                     opts.maxHeight = ( typeof opts.height == 'number' )                         ? opts.height                         : getTrueInnerHeight( $dot );                     opts.maxHeight += opts.tolerance;                     if ( typeof c != 'undefined' )                     {                         if ( typeof c == 'string' || c instanceof HTMLElement )                         {                             c = $('<div />').append( c ).contents();                         }                         if ( c instanceof $ )                         {                             orgContent = c;                         }                     }                     $inr = $dot.wrapInner( '<div class=\"dotdotdot\" />' ).children();                     $inr.empty()                         .append( orgContent.clone( true ) )                         .find( 'br' ).replaceWith( '  <br />  ' ).end()                         .css({                             'height'    : 'auto',                             'width'     : 'auto',                             'border'    : 'none',                             'padding'   : 0,                             'margin'    : 0                         });                     var after = false,                         trunc = false;                     if ( conf.afterElement )                     {                         after = conf.afterElement.clone( true );                         after.show();                         conf.afterElement.remove();                     }                     if ( test( $inr, opts ) )                     {                         if ( opts.wrap == 'children' )                         {                             trunc = children( $inr, opts, after );                         }                         else                         {                             trunc = ellipsis( $inr, $dot, $inr, opts, after );                         }                     }                     $inr.replaceWith( $inr.contents() );                     $inr = null;                     if ( $.isFunction( opts.callback ) )                     {                         opts.callback.call( $dot[ 0 ], trunc, orgContent );                     }                     conf.isTruncated = trunc;                     return trunc;                 }             ).bind(                 'isTruncated.dot',                 function( e, fn )                 {                     e.preventDefault();                     e.stopPropagation();                     if ( typeof fn == 'function' )                     {                         fn.call( $dot[ 0 ], conf.isTruncated );                     }                     return conf.isTruncated;                 }             ).bind(                 'originalContent.dot',                 function( e, fn )                 {                     e.preventDefault();                     e.stopPropagation();                     if ( typeof fn == 'function' )                     {                         fn.call( $dot[ 0 ], orgContent );                     }                     return orgContent;                 }             ).bind(                 'destroy.dot',                 function( e )                 {                     e.preventDefault();                     e.stopPropagation();                     $dot.unwatch()                         .unbind_events()                         .empty()                         .append( orgContent )                         .attr( 'style', $dot.data( 'dotdotdot-style' ) || '' )                         .data( 'dotdotdot', false );                 }             );             return $dot;         };         $dot.unbind_events = function()         {             $dot.unbind('.dot');             return $dot;         };         $dot.watch = function()         {             $dot.unwatch();             if ( opts.watch == 'window' )             {                 var $window = $(window),                     _wWidth = $window.width(),                     _wHeight = $window.height();                 $window.bind(                     'resize.dot' + conf.dotId,                     function()                     {                         if ( _wWidth != $window.width() || _wHeight != $window.height() || !opts.windowResizeFix )                         {                             _wWidth = $window.width();                             _wHeight = $window.height();                             if ( watchInt )                             {                                 clearInterval( watchInt );                             }                             watchInt = setTimeout(                                 function()                                 {                                     $dot.trigger( 'update.dot' );                                 }, 10                             );                         }                     }                 );             }             else             {                 watchOrg = getSizes( $dot );                 watchInt = setInterval(                     function()                     {                         var watchNew = getSizes( $dot );                         if ( watchOrg.width  != watchNew.width ||                              watchOrg.height != watchNew.height )                         {                             $dot.trigger( 'update.dot' );                             watchOrg = getSizes( $dot );                         }                     }, 100                 );             }             return $dot;         };         $dot.unwatch = function()         {             $(window).unbind( 'resize.dot' + conf.dotId );             if ( watchInt )             {                 clearInterval( watchInt );             }             return $dot;         };         var orgContent  = $dot.contents(),             opts        = $.extend( true, {}, $.fn.dotdotdot.defaults, o ),             conf        = {},             watchOrg    = {},             watchInt    = null,             $inr        = null;         if ( !( opts.lastCharacter.remove instanceof Array ) )         {             opts.lastCharacter.remove = $.fn.dotdotdot.defaultArrays.lastCharacter.remove;         }         if ( !( opts.lastCharacter.noEllipsis instanceof Array ) )         {             opts.lastCharacter.noEllipsis = $.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis;         }         conf.afterElement   = getElement( opts.after, $dot );         conf.isTruncated    = false;         conf.dotId          = dotId++;         $dot.data( 'dotdotdot', true )             .bind_events()             .trigger( 'update.dot' );         if ( opts.watch )         {             $dot.watch();         }         return $dot;     };     $.fn.dotdotdot.defaults = {         'ellipsis'          : '... ',         'wrap'              : 'word',         'fallbackToLetter'  : true,         'lastCharacter'     : {},         'tolerance'         : 0,         'callback'          : null,         'after'             : null,         'height'            : null,         'watch'             : false,         'windowResizeFix'   : true,         'debug'             : false     };     $.fn.dotdotdot.defaultArrays = {         'lastCharacter'     : {             'remove'            : [ ' ', '\\u3000', ',', ';', '.', '!', '?' ],             'noEllipsis'        : []         }     };     var dotId = 1;     function children( $elem, o, after )     {         var $elements   = $elem.children(),             isTruncated = false;         $elem.empty();         for ( var a = 0, l = $elements.length; a < l; a++ )         {             var $e = $elements.eq( a );             $elem.append( $e );             if ( after )             {                 $elem.append( after );             }             if ( test( $elem, o ) )             {                 $e.remove();                 isTruncated = true;                 break;             }             else             {                 if ( after )                 {                     after.detach();                 }             }         }         return isTruncated;     }     function ellipsis( $elem, $d, $i, o, after )     {         var $elements   = $elem.contents(),             isTruncated = false;         $elem.empty();         var notx = 'table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style';         for ( var a = 0, l = $elements.length; a < l; a++ )         {             if ( isTruncated )             {                 break;             }             var e   = $elements[ a ],                 $e  = $(e);             if ( typeof e == 'undefined' || ( e.nodeType == 3 && $.trim( e.data ).length == 0 ) )             {                 continue;             }             $elem.append( $e );             if ( after )             {                 $elem[ $elem.is( notx ) ? 'after' : 'append' ]( after );             }             if ( test( $i, o ) )             {                 if ( e.nodeType == 3 )                 {                     isTruncated = ellipsisElement( $e, $d, $i, o, after );                 }                 else                 {                     isTruncated = ellipsis( $e, $d, $i, o, after );                 }                 if ( !isTruncated )                 {                     $e.remove();                     isTruncated = true;                 }             }             if ( !isTruncated )             {                 if ( after )                 {                     after.detach();                 }             }         }         return isTruncated;     }     function ellipsisElement( $e, $d, $i, o, after )     {         var e = $e[ 0 ];         if ( !e )         {             return false;         }         var txt         = getTextContent( e ),             space       = ( txt.indexOf(' ') !== -1 ) ? ' ' : '\\u3000',             separator   = ( o.wrap == 'letter' ) ? '' : space,             textArr     = txt.split( separator ),             position    = -1,             midPos      = -1,             startPos    = 0,             endPos      = textArr.length - 1;         if ( o.fallbackToLetter && endPos == 0 && endPos == startPos )         {             separator   = '';             textArr     = txt.split( separator );             endPos      = textArr.length - 1;         }         while ( startPos <= endPos && !( startPos == 0 && endPos == 0 ) )         {             var m = Math.floor( ( startPos + endPos ) / 2 );             if ( m == midPos )             {                 break;             }             midPos = m;             setTextContent( e, textArr.slice( 0, midPos + 1 ).join( separator ) + o.ellipsis );             if ( !test( $i, o ) )             {                 position = midPos;                 startPos = midPos;             }             else             {                 endPos = midPos;             }         }         if ( position != -1 && !( textArr.length == 1 && textArr[ 0 ].length == 0 ) )         {             txt = addEllipsis( textArr.slice( 0, position + 1 ).join( separator ), o );             setTextContent( e, txt );         }         else         {             var $w = $e.parent();             $e.remove();             var afterLength = ( after && after.closest($w).length ) ? after.length : 0;             if ( $w.contents().length > afterLength )             {                 e = findLastTextNode( $w.contents().eq( -1 - afterLength ), $d );             }             else             {                 e = findLastTextNode( $w, $d, true );                 if ( !afterLength )                 {                     $w.remove();                 }             }             if ( e )             {                 txt = addEllipsis( getTextContent( e ), o );                 setTextContent( e, txt );                 if ( afterLength && after )                 {                     $(e).parent().append( after );                 }             }         }         return true;     }     function test( $i, o )     {         return $i.innerHeight() > o.maxHeight;     }     function addEllipsis( txt, o )     {         while( $.inArray( txt.slice( -1 ), o.lastCharacter.remove ) > -1 )         {             txt = txt.slice( 0, -1 );         }         if ( $.inArray( txt.slice( -1 ), o.lastCharacter.noEllipsis ) < 0 )         {             txt += o.ellipsis;         }         return txt;     }     function getSizes( $d )     {         return {             'width' : $d.innerWidth(),             'height': $d.innerHeight()         };     }     function setTextContent( e, content )     {         if ( e.innerText )         {             e.innerText = content;         }         else if ( e.nodeValue )         {             e.nodeValue = content;         }         else if (e.textContent)         {             e.textContent = content;         }     }     function getTextContent( e )     {         if ( e.innerText )         {             return e.innerText;         }         else if ( e.nodeValue )         {             return e.nodeValue;         }         else if ( e.textContent )         {             return e.textContent;         }         else         {             return \"\";         }     }     function getPrevNode( n )     {         do         {             n = n.previousSibling;         }         while ( n && n.nodeType !== 1 && n.nodeType !== 3 );         return n;     }     function findLastTextNode( $el, $top, excludeCurrent )     {         var e = $el && $el[ 0 ], p;         if ( e )         {             if ( !excludeCurrent )             {                 if ( e.nodeType === 3 )                 {                     return e;                 }                 if ( $.trim( $el.text() ) )                 {                     return findLastTextNode( $el.contents().last(), $top );                 }             }             p = getPrevNode( e );             while ( !p )             {                 $el = $el.parent();                 if ( $el.is( $top ) || !$el.length )                 {                     return false;                 }                 p = getPrevNode( $el[0] );             }             if ( p )             {                 return findLastTextNode( $(p), $top );             }         }         return false;     }     function getElement( e, $i )     {         if ( !e )         {             return false;         }         if ( typeof e === 'string' )         {             e = $(e, $i);             return ( e.length )                 ? e                 : false;         }         return !e.jquery             ? false             : e;     }     function getTrueInnerHeight( $el )     {         var h = $el.innerHeight(),             a = [ 'paddingTop', 'paddingBottom' ];         for ( var z = 0, l = a.length; z < l; z++ )         {             var m = parseInt( $el.css( a[ z ] ), 10 );             if ( isNaN( m ) )             {                 m = 0;             }             h -= m;         }         return h;     }     function debug( d, m )     {         if ( !d )         {             return false;         }         if ( typeof m == 'string' )         {             m = 'dotdotdot: ' + m;         }         else         {             m = [ 'dotdotdot:', m ];         }         if ( typeof window.console != 'undefined' )         {             if ( typeof window.console.log != 'undefined' )             {                 window.console.log( m );             }         }         return false;     }     var _orgHtml = $.fn.html;     $.fn.html = function( str )     {         if ( str != undef && !$.isFunction( str ) && this.data( 'dotdotdot' ) )         {             return this.trigger( 'update', [ str ] );         }         return _orgHtml.apply( this, arguments );     };     var _orgText = $.fn.text;     $.fn.text = function( str )     {         if ( str != undef && !$.isFunction( str ) && this.data( 'dotdotdot' ) )         {             str = $( '<div />' ).text( str ).html();             return this.trigger( 'update', [ str ] );         }         return _orgText.apply( this, arguments );     }; })( jQuery ); (function($) {     if( $.fn.dotdotdot_amzn ) return;     $.fn.dotdotdot_amzn = function() {         if( this.length > 1 ) {             return this.each( function() {                 $(this).dotdotdot_amzn();             });         } else if (this.length == 0 ) {             return;         }         var el = this;         if(el.hasClass('truncated')) return;         var originalContent = el.clone(true);         el.dotdotdot({             height: parseInt(el.data('shorten')),             callback: function( isTruncated, orgContent ) {                 if(!isTruncated) return;                 el.addClass('truncated');                 if(!el.data('transitionselector')                     && !el[0].hasAttribute('data-shorten-keep-original')) return;                 originalContent.addClass('original');                 originalContent.addClass('collapsed');                 delete originalContent[0].dataset.shorten;                 if(originalContent.id) {                     originalContent.id += \"-original\";                 }                 el.parent().append(originalContent);             },             watch:true,             debug:false         });     } })( jQuery ); jQuery(window).load(function() {     jQuery(\"[data-shorten]\").dotdotdot_amzn(); });         A.$(\"#sp_short_strip_title\").dotdotdot({             height: 45,             watch: \"window\"         });     }); }));</script> </div>","creativeId":-1194703368,"programId":1024,"status":"ok"}
);